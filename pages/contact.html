<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-text="title">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background: radial-gradient(circle at top right, #0a84ff, #001f3f 70%);
      color: #fff; margin: 0; padding: 0;
    }
    header {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      padding: 14px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo {
      font-size: 20px;
      font-weight: 700;
      color: #ffd369;
    }
    .language-btn {
      cursor: pointer;
      background: none;
      border: 1px solid #ffd369;
      padding: 6px 14px;
      color: #ffd369;
      border-radius: 8px;
      font-weight: 600;
    }
    .contact-box {
      max-width: 700px;
      margin: 70px auto;
      background: rgba(255,255,255,0.12);
      padding: 30px;
      border-radius: 16px;
      backdrop-filter: blur(12px);
      text-align: center;
      line-height: 1.8;
    }
    input, textarea {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: none;
      margin-bottom: 15px;
      background: rgba(255,255,255,0.2);
      color: #fff;
      font-family: Tajawal;
    }
    textarea { height: 140px; }

    button {
      background: linear-gradient(135deg, #007bff, #0056b3);
      padding: 12px 20px;
      border-radius: 10px;
      color: white;
      font-size: 16px;
      border: none;
      cursor: pointer;
      width: 100%;
      font-weight: bold;
    }
    button:hover { opacity: 0.9; }

    .back-btn {
      background: rgba(255,255,255,0.2);
      color: #ffd369;
      padding: 10px 20px;
      border-radius: 10px;
      border: 1px solid #ffd369;
      cursor: pointer;
      margin-top: 20px;
      display: inline-block;
      font-weight: 600;
      text-decoration: none;
    }
    .back-btn:hover { background: #ffd369; color: #001f3f; transform: scale(1.05); }

    #msg {
      margin-top: 15px;
      font-weight: bold;
      display: none;
    }
  </style>
</head>

<body>

<header>
  <div class="logo" data-text="header_title">ğŸ’¼ Career Building for JU Students</div>
  <button class="language-btn" id="langToggle">EN</button>
</header>

<div class="contact-box">
  <h2 data-text="heading">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
  <p data-text="desc">ÙŠØ³Ø¹Ø¯Ù†Ø§ ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§! Ø§ØªØ±Ùƒ Ø±Ø³Ø§Ù„ØªÙƒ ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª.</p>

  <!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
  <form id="contactForm">
    <input type="text" id="name" data-placeholder="name_ph" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
    <input type="email" id="email" data-placeholder="email_ph" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
    <textarea id="message" data-placeholder="msg_ph" placeholder="Ø±Ø³Ø§Ù„ØªÙƒ" required></textarea>

    <button type="submit" data-text="send_btn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
  </form>

  <div id="msg"></div>

  <a href="jobs.html" class="back-btn" data-text="back_btn">â¬…ï¸ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù</a>
</div>

<script>
/* ========= Ø§Ù„ØªØ±Ø¬Ù…Ø© ========= */
const trans = {
  ar: {
    title: "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§",
    header_title: "ğŸ’¼ Career Building for JU Students",
    heading: "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§",
    desc: "ÙŠØ³Ø¹Ø¯Ù†Ø§ ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§! Ø§ØªØ±Ùƒ Ø±Ø³Ø§Ù„ØªÙƒ ÙˆØ³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ.",
    name_ph: "Ø§Ù„Ø§Ø³Ù…",
    email_ph: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
    msg_ph: "Ø±Ø³Ø§Ù„ØªÙƒ",
    send_btn: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
    back_btn: "â¬…ï¸ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù",
    success: "âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­",
    error: "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"
  },
  en: {
    title: "Contact Us",
    header_title: "ğŸ’¼ Career Building for JU Students",
    heading: "Contact Us",
    desc: "We are happy to hear from you! Leave your message and we'll reply soon.",
    name_ph: "Your Name",
    email_ph: "Email Address",
    msg_ph: "Your Message",
    send_btn: "Send Message",
    back_btn: "â¬…ï¸ Back to Jobs",
    success: "âœ… Message sent successfully",
    error: "âŒ Failed to send message"
  }
};

let lang = "ar";
document.getElementById("langToggle").onclick = () => {
  lang = lang === "ar" ? "en" : "ar";
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

  document.querySelectorAll("[data-text]").forEach(e => {
    e.textContent = trans[lang][e.dataset.text];
  });

  document.querySelectorAll("[data-placeholder]").forEach(e => {
    e.placeholder = trans[lang][e.dataset.placeholder];
  });

  document.title = trans[lang].title;
  document.getElementById("langToggle").textContent = lang === "ar" ? "EN" : "AR";
};

/* ========= Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ========= */
document.getElementById("contactForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const msgBox = document.getElementById("msg");
  msgBox.style.display = "block";
  msgBox.textContent = "â³ ...";

  try {
    const res = await fetch("/.netlify/functions/add-contact-message", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        name: name.value,
        email: email.value,
        message: message.value
      })
    });

    if (res.ok) {
      msgBox.textContent = trans[lang].success;
      msgBox.style.color = "#7CFC00";
      e.target.reset();
    } else {
      msgBox.textContent = trans[lang].error;
      msgBox.style.color = "#ff4f4f";
    }

  } catch {
    msgBox.textContent = trans[lang].error;
    msgBox.style.color = "#ff4f4f";
  }
});
</script>

</body>
</html>
